<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>le cÃ¢lin tranquille ðŸ«‚</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400&family=Reenie+Beanie&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: none; }
        
        body { background: #000; overflow: hidden; font-family: 'Cormorant Garamond', serif; color: #fff; }

        /* AUTHENTIC SUNSET BACKGROUND */
        #sunset-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, #12122b 0%, #4a214d 35%, #9e5b4a 70%, #df916d 100%);
            z-index: 1; transition: opacity 4s ease-in-out;
        }

        /* REALISTIC FOREST SILHOUETTE (SVG) */
        .forest {
            position: absolute; bottom: -5px; width: 100%; height: 25vh;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 250' preserveAspectRatio='none'%3E%3Cpath d='M0,250 L1200,250 L1200,180 C1180,190 1150,160 1120,175 C1080,195 1050,150 1020,170 C980,190 950,140 910,165 C870,190 830,150 790,170 C750,190 710,145 660,165 C620,185 580,140 540,160 C500,180 460,135 410,160 C370,180 330,145 290,165 C250,185 210,140 170,160 C130,180 90,135 40,160 C20,170 0,180 0,180 Z' fill='%23050505'/%3E%3C/svg%3E");
            background-size: cover; z-index: 3;
        }

        /* ATMOSPHERIC HAZE */
        .haze {
            position: absolute; bottom: 0; width: 100%; height: 40%;
            background: linear-gradient(to top, rgba(0,0,0,0.4), transparent);
            z-index: 2; pointer-events: none;
        }

        /* AUTHENTIC BIRD ANIMATION */
        .bird-container {
            position: absolute; z-index: 2;
            animation: move-bird 25s linear infinite;
        }
        .bird-svg { width: 25px; height: auto; fill: #000; opacity: 0.7; }

        @keyframes move-bird {
            from { transform: translate(-50px, 0); }
            to { transform: translate(110vw, -40px); }
        }

        /* GALAXY STAGE */
        #space-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 4; opacity: 0; transition: opacity 5s ease; background: #000; }

        /* TEXTS & ORBS */
        #landing {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            z-index: 10; flex-direction: column; text-align: center;
        }

        .quiet-text {
            font-size: 1.4rem; letter-spacing: 4px; font-style: italic; opacity: 0;
            transition: opacity 2.5s ease, transform 2s ease; line-height: 2.2;
            color: rgba(255, 252, 240, 0.9); transform: translateY(8px);
        }

        .show { opacity: 1 !important; transform: translateY(0) !important; }

        #interaction-stage { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; z-index: 5; }

        .star-orb {
            position: absolute; width: 85px; height: 85px; border-radius: 50%;
            cursor: pointer; z-index: 15;
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.4), 0 0 80px rgba(255, 255, 255, 0.1);
        }
        #orbL { background: radial-gradient(circle, #fff 15%, #ffcc80 45%, transparent 85%); }
        #orbR { background: radial-gradient(circle, #fff 15%, #b3e5fc 45%, transparent 85%); }

        #instruction {
            position: absolute; bottom: 18%; width: 100%; text-align: center;
            font-size: 0.75rem; letter-spacing: 6px; color: rgba(255,255,255,0.5);
            text-transform: uppercase; opacity: 0; transition: opacity 2s;
        }

        #final-message {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; justify-content: center; align-items: center;
            flex-direction: column; text-align: center; z-index: 20;
        }

        .handwritten { 
            font-family: 'Reenie Beanie', cursive; font-size: 3.4rem; color: #fff; 
            opacity: 0; transition: opacity 3s ease; margin: 8px 0;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>

    <div id="sunset-bg">
        <div class="haze"></div>
        <div class="bird-container" style="top: 22%; animation-duration: 22s;">
            <svg class="bird-svg" viewBox="0 0 20 20"><path d="M0,10 C5,12 8,5 10,10 C12,5 15,12 20,10 L18,11 C13,13 12,8 10,12 C8,8 7,13 2,11 Z"/></svg>
        </div>
        <div class="bird-container" style="top: 15%; animation-delay: 4s; animation-duration: 28s;">
            <svg class="bird-svg" viewBox="0 0 20 20"><path d="M0,10 C5,12 8,5 10,10 C12,5 15,12 20,10 L18,11 C13,13 12,8 10,12 C8,8 7,13 2,11 Z"/></svg>
        </div>
        <div class="forest"></div>
    </div>

    <canvas id="space-canvas"></canvas>

    <div id="landing">
        <div class="quiet-text" id="t1">Some hugs donâ€™t wrap arms.</div>
        <div class="quiet-text" id="t2">They wrap peace.</div>
    </div>

    <div id="interaction-stage">
        <div class="star-orb" id="orbL" style="top: 45%; left: 15%;"></div>
        <div class="star-orb" id="orbR" style="top: 45%; left: 70%;"></div>
        <div id="instruction">Close the distance.</div>
    </div>

    <div id="final-message">
        <div class="quiet-text" id="l1">Even across the lightyears,</div>
        <div class="quiet-text" id="l2">heartbeats still find their way.</div>
        <div class="handwritten" id="l3" style="margin-top: 30px;">This is me,</div>
        <div class="handwritten" id="l4">reaching for you...</div>
        <div class="handwritten" id="l5">until the distance fades.</div>
    </div>

    <script>
        const canvas = document.getElementById('space-canvas');
        const ctx = canvas.getContext('2d');
        const sunset = document.getElementById('sunset-bg');
        let stars = []; let trails = [];

        function init() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for (let i = 0; i < 250; i++) {
                stars.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, size: Math.random() * 1.2, o: Math.random() });
            }
        }

        function draw() {
            ctx.fillStyle = "#000"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            stars.forEach(s => {
                ctx.fillStyle = `rgba(255, 255, 255, ${s.o})`;
                ctx.beginPath(); ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2); ctx.fill();
            });
            trails.forEach((t, i) => {
                ctx.fillStyle = `rgba(255, 255, 255, ${t.o})`;
                ctx.beginPath(); ctx.arc(t.x, t.y, 1.2, 0, Math.PI * 2); ctx.fill();
                t.o -= 0.012; if(t.o <= 0) trails.splice(i, 1);
            });
            requestAnimationFrame(draw);
        }
        init(); draw();

        window.onload = () => {
            setTimeout(() => document.getElementById('t1').classList.add('show'), 1500);
            setTimeout(() => document.getElementById('t2').classList.add('show'), 3500);
            setTimeout(() => {
                document.getElementById('landing').style.opacity = "0";
                setTimeout(() => {
                    document.getElementById('landing').style.display = "none";
                    document.getElementById('interaction-stage').style.display = "block";
                    setTimeout(() => document.getElementById('instruction').style.opacity = "1", 1500);
                }, 1500);
            }, 7500);
        };

        let merged = false;
        let lPos = 15; let rPos = 70;

        function moveOrb(e, side) {
            if(merged) return;
            const x = e.touches ? e.touches[0].clientX : e.clientX;
            const y = e.touches ? e.touches[0].clientY : e.clientY;
            const percent = (x / window.innerWidth) * 100;
            
            canvas.style.opacity = "1";
            sunset.style.opacity = "0";

            trails.push({ x: x, y: y, o: 0.7 });
            if(side === 'L') {
                lPos = Math.min(percent, rPos - 5);
                document.getElementById('orbL').style.left = lPos + "%";
            } else {
                rPos = Math.max(percent, lPos + 5);
                document.getElementById('orbR').style.left = rPos + "%";
            }
            if(Math.abs(lPos - rPos) < 10) triggerMerge();
        }

        const oL = document.getElementById('orbL'); const oR = document.getElementById('orbR');
        oL.addEventListener('touchmove', (e) => moveOrb(e, 'L'));
        oR.addEventListener('touchmove', (e) => moveOrb(e, 'R'));
        oL.onmousedown = () => document.onmousemove = (e) => moveOrb(e, 'L');
        oR.onmousedown = () => document.onmousemove = (e) => moveOrb(e, 'R');
        document.onmouseup = () => document.onmousemove = null;

        function triggerMerge() {
            merged = true;
            document.getElementById('instruction').style.opacity = "0";
            oL.style.transition = oR.style.transition = "all 2.5s cubic-bezier(0.4, 0, 0.2, 1)";
            oL.style.left = oR.style.left = "43%";
            oL.style.transform = oR.style.transform = "scale(25)";
            oL.style.opacity = oR.style.opacity = "0";
            setTimeout(() => {
                document.getElementById('interaction-stage').style.display = "none";
                document.getElementById('final-message').style.display = "flex";
                const lines = ['l1', 'l2', 'l3', 'l4', 'l5'];
                lines.forEach((id, i) => {
                    setTimeout(() => {
                        const el = document.getElementById(id);
                        if (el.classList.contains('quiet-text')) el.classList.add('show');
                        else el.style.opacity = "1";
                    }, i * 2200);
                });
            }, 1800);
        }
    </script>
</body>
</html>
